@page "/"
@attribute [TabItemOption(Text = "首页")]

<p></p>
<h4>Demo for Blazor & BootstrapBlazor</h4>
<p></p>
<p></p>
<p><a href="https://hk.app1.es/">blazor.app1.es(主)</a> <a href="https://hk.app1.es/">hk.app1.es(备用)</a></p>
<p><a href="https://www.cnblogs.com/densen2014/">博客园</a></p>
<p><a href="https://toutiao.com/c/user/53462780186/?from=qrcode">头条</a></p>
<p><a href="https://blog.csdn.net/alex_zoucn">CSDN</a></p>
<p><a href="https://www.zhihu.com/people/alex-chow-54">知乎</a></p>
<p><a href="https://www.zhihu.com/people/zhang-yan-78-53">爱吃油麦菜的知乎</a></p>
<p><a href="https://github.com/densen2014/Densen.Extensions?WT.mc_id=DT-MVP-5005078">GitHub</a></p>
<p><a href="https://gitee.com/densen2014/Densen.Extensions">Gitee</a></p>
<p><a href="https://github.com/densen2014/BlazorMaui?WT.mc_id=DT-MVP-5005078">BlazorMaui</a></p>
<p><a href="https://github.com/densen2014/BlazorHybrid?WT.mc_id=DT-MVP-5005078">BlazorHybrid</a></p>
<p><a href="https://www.nuget.org/profiles/DensenInformatica?WT.mc_id=DT-MVP-5005078">Nuget</a></p>
<p><a href="https://github.com/densen2014/Densen.Extensions/blob/master/Demo/DemoShared/Pages?WT.mc_id=DT-MVP-5005078">本站源码</a></p>
<p></p>
<p><a href="https://github.com/densen2014/Blazor100?WT.mc_id=DT-MVP-5005078">Blazor100</a></p>
<p><a href="https://github.com/densen2014/ZXingBlazor?WT.mc_id=DT-MVP-5005078">ZXingBlazor</a></p>
<p><a href="https://github.com/densen2014/BootstrapBlazor.PdfReader?WT.mc_id=DT-MVP-5005078">PdfReader</a></p>
<p><a href="https://github.com/densen2014/FreeSqlDemos?WT.mc_id=DT-MVP-5005078">FreeSqlDemos</a></p>


@*<pre>css tips:MainLayout.razor.css
    <code style="color:gray">
            .sidebar &lt;
                min-width: 250px;
            &gt;
            @@media (max-height: 850px) &lt;
            .sidebar &lt;
                height: unset;
            &gt;
            &gt;

        </code>
    </pre>
    <p></p>*@


<h1>@person.Name</h1>
<h1>@person.Name2</h1>

@code{
    int index = 0;
    int index2 = 0;
    Person person = new Person();

    protected override Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            Task.Run(async () =>
            {
                do
                {
                    index++;
                    person.Name = "Tom" + index;
                    await Task.Delay(1000);
                }while (true);
            });
            Task.Run(async () =>
            {
                do
                {
                    index2++;
                    person.Name2 = "Name2" + index2;
                    await Task.Delay(500);
                }while (true);
            });
            person.NameChanged += (sender, e) => InvokeAsync(StateHasChanged);
            person.Name = "Tom";
        }
        return Task.CompletedTask;
    }


    public class Person
    {
        private string? name;
        public string? Name
        {
            get { return name; }
            set
            {
                if (name != value)
                {
                    name = value;
                    OnNameChanged();
                }
            }
        }
        private string? name2;
        public string? Name2
        {
            get { return name2; }
            set
            {
                if (name2 != value)
                {
                    name2 = value;
                    OnNameChanged();
                }
            }
        }

        public event EventHandler? NameChanged;

        protected virtual void OnNameChanged()
        {
            NameChanged?.Invoke(this, EventArgs.Empty);
        }
    }
}